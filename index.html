<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Крупець світу майбутнього! За Пилипаку</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .navbar {
            background-color: #333;
            padding: 10px 0;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
        }
        .navbar a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            font-size: 18px;
        }
        .navbar img {
            width: 60px;
            height: auto;
            vertical-align: middle;
        }
        .menu {
            text-align: left;
            margin-bottom: 20px;
        }
        .menu-item {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .menu-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .menu-item img {
            width: 80px;
            margin-right: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .item-info {
            flex-grow: 1;
        }
        .item-name {
            font-size: 20px;
            margin-bottom: 5px;
        }
        .item-price {
            font-size: 18px;
            font-weight: bold;
            color: #ff6600;
        }
        footer {
            text-align: center;
            margin-top: 50px;
            background-color: #333;
            color: #fff;
            padding: 20px 0;
        }
        /* Оформлення посилань у підвалі */
        footer a {
            color: #fff;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        .director {
            text-align: center;
            margin-top: 20px;
        }
        .director img {
            width: 200px;
            border-radius: 50%;
            border: 5px solid #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .product {
    background-color: #fff;
    border-radius: 5px;
    padding: 20px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
}

.product img {
    max-width: 60%;
    margin-right: 20px;
    border-radius: 5px;
}

.product h3 {
    color: #007bff;
}

.product p {
    color: #666;
}

.product button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

.product button:hover {
    background-color: #0056b3;
}

.cart-menu {
    position: fixed;
    top: 0;
    right: 0;
    background-color: #fff;
    width: 300px;
    height: 100%;
    padding: 20px;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
    overflow-y: auto;
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;
}

.cart-menu.show {
    transform: translateX(0);
}

.cart-menu h2 {
    margin-top: 0;
}

.cart-menu ul {
    list-style: none;
    padding: 0;
}

.cart-menu li {
    margin-bottom: 20px;
}

.cart-menu img {
    max-width: 70px;
    border-radius: 5px;
}

.cart-icon {
    position: fixed;
    bottom: 40px;
    right: 40px;
    cursor: pointer;
}

.cart-icon img {
    width: 50px;
    height: 50px;
}

.cart-items {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #007bff;
    color: #fff;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    text-align: center;
    line-height: 25px;
    font-size: 16px;
}

.checkout-button {
    display: block;
    background-color: #28a745;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 20px;
}

.checkout-button:hover {
    background-color: #218838;
}

/* Стилі для кнопки "Видалити з кошика" */
.product button.delete-button {
    background-color: #dc3545;
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    position: relative; /* Додаємо позиціонування */
}

.product button.delete-button:hover {
    background-color: #c82333;
}

/* Стилі для лінії КСС */
.product button.delete-button:before,
.product button.delete-button:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 2px;
    height: 10px;
    background-color: #fff;
    transform: translate(-50%, -50%);
    transition: transform 0.3s ease; /* Додаємо анімацію */
}

.product button.delete-button:before {
    transform: translate(-50%, -50%) rotate(45deg);
}

.product button.delete-button:after {
    transform: translate(-50%, -50%) rotate(-45deg);
}

/* Додамо анімацію зникаючої лінії */
.product button.delete-button:hover:before,
.product button.delete-button:hover:after {
    width: 0;
}

/* Стилі для модального вікна */
.modal {
    display: none; /* Початково ховаємо модальне вікно */
    position: fixed; /* Фіксована позиція */
    z-index: 1; /* Поверх усіх елементів */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Дозволяє прокрутку, якщо контент перевищує вікно */
    background-color: rgba(0,0,0,0.4); /* Непрозоре чорне фонове крапання */
    padding-top: 100px; /* Відступ від верхнього краю */
}

.modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    border-radius: 5px;
}

.modal-content input,
.modal-content select {
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
    margin-bottom: 10px;
}

.modal-content button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

.modal-content button:hover {
    background-color: #0056b3;
}

/* Закриваюча кнопка для модального вікна */
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
    </style>
</head>
<body>
    <audio autoplay loop id="backgroundAudio">
        <source src="pilya.mp3" type="audio/mpeg">
        Ваш браузер занадто тупий для цієї музики.
    </audio>
    <div class="navbar">
        <a href="#"><img src="krypec.png" alt="Крупець"></a>
        <div class="nav-links">
            <a href="onas.html">О нас</a> <!-- Змінено href -->
            <a href="dostavka.html">Доставка</a>
            <a href="oplata.html">Оплата</a>
            <a href="https://www.google.com/maps/place/%D0%9A%D1%80%D1%83%D0%BF%D0%B5%D1%86%D1%8C+%D0%BA%D0%B0%D1%84%D0%B5/@49.8142427,24.1557151,19z/data=!4m8!3m7!1s0x473ac3006314cfe5:0x655c1856929c183b!8m2!3d49.8142418!4d24.1563588!9m1!1b1!16s%2Fg%2F11vz2q1172?entry=ttu">Відгуки</a>
            <a href="contacts.html">Контакти</a>
        </div>
    </div>
    <div class="container">
        <h1 style="color: #333;">Кафе Крупець - Майбутьнє України</h1>
        <div class="menu">
            <div class="menu-item">
                <img src="latte_egg.png" alt="Лате з яйцем перепілки">
                <div class="item-info">
                    <div class="item-name">Лате з яйцем перепілки</div>
                    <div class="item-price">50 грн</div>
                    <button onclick="addToCart('Лате з яйцем перепілки', 50, 'latte_egg.png')">Додати до кошика</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="americano_wheat.png" alt="Американо з курячим пшеном">
                <div class="item-info">
                    <div class="item-name">Американо з курячим пшеном</div>
                    <div class="item-price">45 грн</div>
                    <button onclick="addToCart('Американо з курячим пшеном', 45, 'americano_wheat.png')">Додати до кошика</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="espreso_chicken.png" alt="Лате з петушиним яйцем">
                <div class="item-info">
                    <div class="item-name">Еспресо з петушиним яйцем</div>
                    <div class="item-price">55 грн</div>
                    <button onclick="addToCart('Лате з петушиним яйцем', 55, 'espreso_chicken.png')">Додати до кошика</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="cappuccino_pilipaka.png" alt="Капучіно з Піліпакою">
                <div class="item-info">
                    <div class="item-name">Капучіно з Піліпакою</div>
                    <div class="item-price">60 грн</div>
                    <button onclick="addToCart('Капучіно з Піліпакою', 60, 'cappuccino_pilipaka.png')">Додати до кошика</button>

                </div>
            </div>
        </div>
    </div>
    <div class="cart-menu" id="cartMenu">
        <h2>Кошик</h2>
        <ul id="cartItemList"></ul>
        <p id="totalPrice">Загальна вартість: 0 грн</p>
        <button class="checkout-button" onclick="showPaymentMenu()">Перейти до оплати</button>
    
        <div id="paymentMenu" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="closePaymentMenu()">&times;</span>
                <h2>Меню покупки</h2>
                <form id="paymentForm" onsubmit="return makePayment()">
                    <label for="fullName">Ваше Ім'я та прізвище:</label>
                    <input type="text" id="fullName" required>
                    <label for="phoneNumber">Номер телефону:</label>
                    <input type="tel" id="phoneNumber" pattern="^\+380[0-9]{9}$" oninput="formatPhoneNumber(this)" required title="Будь ласка, введіть номер телефону у форматі +380XXXXXXXXX">
                    <label for="postOffice">Напишіть вулицю куди доставляти</label>
                    <input type="text" id="postOffice" required>
                    <button type="submit">Оплатити</button>
                </form>
            </div>
        </div>
    </div>
    
    <div class="cart-icon" onclick="toggleCartMenu()">
        <img src="cart.png" alt="Кошик">
        <div class="cart-items" id="cartItems">0</div>
    </div>
    <div class="director">
        <img src="pilipaka.png" alt="Директор Піліпака">
        <p>Директор кафе "Крупец" - Піліпака</p>
    </div>
    <footer>
        <p>&copy; 2024 Кафе "Крупец"</p>
    </footer>
    <script>
        // Ваш JavaScript-код
        var cart = [];
    
        function addToCart(productName, price, imgSrc) {
            cart.push({name: productName, price: price, image: imgSrc});
            updateCart();
        }
    
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }
    
        function updateCart() {
            var cartItems = document.getElementById('cartItems');
            var cartItemList = document.getElementById('cartItemList');
            var totalPrice = document.getElementById('totalPrice');
            var total = 0;
    
            cartItems.innerText = cart.length;
            cartItemList.innerHTML = '';
    
            cart.forEach(function(item, index) {
                var listItem = document.createElement('li');
                listItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}">
                    ${item.name} - ${item.price} грн
                    <button class="delete-button" onclick="removeFromCart(${index})">Видалити з кошика</button>
                `;
                cartItemList.appendChild(listItem);
                total += item.price;
            });
    
            totalPrice.innerText = 'Загальна вартість: ' + total + ' грн';
        }
    
        function toggleCartMenu() {
            var cartMenu = document.getElementById('cartMenu');
            cartMenu.classList.toggle('show');
        }
    
        function showPaymentMenu() {
            var paymentMenu = document.getElementById('paymentMenu');
            paymentMenu.style.display = 'block';
        }
    
        function closePaymentMenu() {
            var paymentMenu = document.getElementById('paymentMenu');
            paymentMenu.style.display = 'none';
        }
    
        function makePayment() {
            var fullName = document.getElementById('fullName').value;
            var phoneNumber = document.getElementById('phoneNumber').value;
            var postOffice = document.getElementById('postOffice').value;
    
            // Отримання загальної суми до оплати
            var totalPayment = 0;
            cart.forEach(function(item) {
                totalPayment += item.price;
            });
    
            // Збереження даних про оплату в локальному сховищі
            localStorage.setItem('paymentData', JSON.stringify({
                fullName: fullName,
                phoneNumber: phoneNumber,
                postOffice: postOffice,
                totalPayment: totalPayment
            }));
    
            // Перенаправлення на сторінку оплати ПІСЛЯ збереження даних
            window.location.href = 'pay.html';
    
            // Заборона відправки форми
            return false;
        }
    
        function formatPhoneNumber(input) {
            // Форматування телефонного номера у форматі +380XXYYYYYYY
            var cleaned = ('' + input.value).replace(/\D/g, '');
            var match = cleaned.match(/^(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})$/);
            if (match) {
                input.value = '+380' + match[2] + match[3] + match[4] + match[5];
            }
        }
    </script>
</body>
</html>
